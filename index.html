<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Wavelength 远程版</title>
  <link rel="stylesheet" href="style.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <!-- ✅ 礼炮特效库 -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>


<body>
  <div class="container">
    <div id="title">
      <svg width="500" height="200" viewBox="0 -10 500 200">
        <path id="arcPath" d="M50,140 A400,400 0 0,1 450,140" fill="none" />
        <text>
          <textPath href="#arcPath" startOffset="50%" text-anchor="middle">
            <tspan>W</tspan>
            <tspan>A</tspan>
            <tspan>V</tspan>
            <tspan>E</tspan>
            <tspan>L</tspan>
            <tspan>E</tspan>
            <tspan>N</tspan>
            <tspan>G</tspan>
            <tspan>T</tspan>
            <tspan>H</tspan>
          </textPath>
        </text>
      </svg>
    </div>

    <div id="control-panel">
      <button id="create" class="button-9" role="button" onclick="createRoom()">🛋️ 创建房间</button>
      <div id="connection-area">
        <div id="input-row">
          <input id="input-id" type="text" placeholder="输入房间号">
          <button id="join" class="button-9" role="button" onclick="joinRoom()">🔗 加入</button>
        </div>
        <div id="status-row">
          <span id="connection-status">❌ 未连接</span>
        </div>
      </div>
    </div>



    <div class="dimension">
      <span id="label"><img src="assets/loading.gif" alt="加载中"></span>
      <canvas id="arcCanvas" width="400" height="250"></canvas>
      <span id="label"><img src="assets/loading.gif" alt="加载中"></span>
    </div>

    <p id="game-step">等待开始游戏...</p>

    <!-- ✅ 房主开始游戏按钮 -->
    <button id="startGameBtn" onclick="hostStartGame()" style="display:none;">🚀 开始游戏</button>

    <!-- ✅ 输入提示词区域（当前出题方） -->
    <div id="hint-input" style="display:none;">
      <input type="text" id="hintBox" placeholder="输入提示词">
      <button onclick="confirmHint()">确认提示</button>
    </div>

    <!-- ✅ 猜测区域（当前猜测方） -->
    <div id="guess-section" style="display:none;">
      <p>提示词：<span id="hint">（等待提示）</span></p>
      <input type="range" id="guessSlider" min="0" max="100" value="50">
      <button onclick="submitGuess()">提交猜测</button>
    </div>

    <!-- 倒计时 -->
    <div id="countdown" style="display:none; font-weight: bold; margin-top: 10px; font-size: 18px;"></div>

    <p id="result"></p>

    <!-- ✅ 下一轮按钮：开始新一轮并切换角色 -->
    <button id="nextRoundBtn" onclick="nextRound()" style="display:none;">🔁 下一轮</button>
  </div>

  <!-- ✅ 🎊 庆祝音效 -->
  <audio id="celebrateSound" src="assets/partypop.mp3" preload="auto"></audio>

  <!-- ✅ 游戏逻辑脚本 -->
  <script src="script.js"></script>
</body>
<div style="text-align: center;">
  <div id="rules">
    <h3 id="rules-title">游戏规则</h3>
    <p>1. 房主点击“创建房间”，分享房间号。</p>
    <p>2. 出题方输入提示词，猜测方拖动滑条猜位置。</p>
    <p>3. 尝试理解彼此的思路，挑战默契极限！🔥</p>
  </div>
</div>

</html>

<audio id="moveSound0" src="assets/tick.mp3" preload="auto"></audio>
<audio id="moveSound1" src="assets/tick.mp3" preload="auto"></audio>
<audio id="moveSound2" src="assets/tick.mp3" preload="auto"></audio>
<audio id="moveSound3" src="assets/tick.mp3" preload="auto"></audio>
<audio id="moveSound4" src="assets/tick.mp3" preload="auto"></audio>